---

- name: Assert - Display SAP note number 3108316 and its version
  ansible.builtin.debug:
    msg: "SAP note {{ (__sap_general_preconfigure_sapnotes_versions | selectattr('number', 'match', '^3108316$') | first).number }}
          (version {{ (__sap_general_preconfigure_sapnotes_versions | selectattr('number', 'match', '^3108316$') | first).version }}): Configure RHEL 9"
  tags:
    - sap_general_preconfigure_configuration
    - sap_general_preconfigure_configuration_all_steps

- name: Import tasks from '3108316/02-assert-selinux.yml'
  ansible.builtin.import_tasks: 3108316/02-assert-selinux.yml
  when: sap_general_preconfigure_config_all | d(true) or sap_general_preconfigure_3108316_02 | d(false)
  tags:
    - sap_general_preconfigure_configuration_all_steps
    - sap_general_preconfigure_3108316_02
    - sap_general_preconfigure_selinux

- name: Import tasks from '3108316/03-assert-hostname.yml'
  ansible.builtin.import_tasks: 3108316/03-assert-hostname.yml
  when: sap_general_preconfigure_config_all | d(true) or sap_general_preconfigure_3108316_03 | d(false)
  tags:
    - sap_general_preconfigure_configuration_all_steps
    - sap_general_preconfigure_3108316_03
    - sap_general_preconfigure_hostname
    - sap_general_preconfigure_etc_hosts
    - sap_general_preconfigure_dns-name-resolution

- name: Import tasks from '3108316/04-assert-network-time-and-date.yml'
  ansible.builtin.import_tasks: 3108316/04-assert-network-time-and-date.yml
  when: sap_general_preconfigure_config_all | d(true) or sap_general_preconfigure_3108316_04 | d(false)
  tags:
    - sap_general_preconfigure_configuration_all_steps
    - sap_general_preconfigure_3108316_04
    - sap_general_preconfigure_network_time_and_date

- name: Import tasks from '3108316/05-assert-firewall.yml'
  ansible.builtin.import_tasks: 3108316/05-assert-firewall.yml
  when: sap_general_preconfigure_config_all | d(true) or sap_general_preconfigure_3108316_05 | d(false)
  tags:
    - sap_general_preconfigure_configuration_all_steps
    - sap_general_preconfigure_3108316_05
    - sap_general_preconfigure_firewall

- name: Import tasks from '3108316/06-assert-uuidd.yml'
  ansible.builtin.import_tasks: 3108316/06-assert-uuidd.yml
  when: sap_general_preconfigure_config_all | d(true) or sap_general_preconfigure_3108316_06 | d(false)
  tags:
    - sap_general_preconfigure_configuration_all_steps
    - sap_general_preconfigure_3108316_06
    - sap_general_preconfigure_configure_uuidd

- name: Import tasks from '3108316/07-assert-tmpfs.yml'
  ansible.builtin.import_tasks: 3108316/07-assert-tmpfs.yml
  when: sap_general_preconfigure_config_all | d(true) or sap_general_preconfigure_3108316_07 | d(false)
  tags:
    - sap_general_preconfigure_configuration_all_steps
    - sap_general_preconfigure_3108316_07
    - sap_general_preconfigure_configure_tmpfs

- name: Import tasks from '3108316/08-assert-linux-kernel-parameters.yml'
  ansible.builtin.import_tasks: 3108316/08-assert-linux-kernel-parameters.yml
  when: sap_general_preconfigure_config_all | d(true) or sap_general_preconfigure_3108316_08 | d(false)
  tags:
    - sap_general_preconfigure_configuration_all_steps
    - sap_general_preconfigure_3108316_08
    - sap_general_preconfigure_kernel_parameters

- name: Import tasks from '3108316/09-assert-process-resource-limits.yml'
  ansible.builtin.import_tasks: 3108316/09-assert-process-resource-limits.yml
  when: sap_general_preconfigure_config_all | d(true) or sap_general_preconfigure_3108316_09 | d(false)
  tags:
    - sap_general_preconfigure_configuration_all_steps
    - sap_general_preconfigure_3108316_09
    - sap_general_preconfigure_nproc_limits

- name: Import tasks from '3108316/10-assert-systemd-tmpfiles.yml'
  ansible.builtin.import_tasks: 3108316/10-assert-systemd-tmpfiles.yml
  when: sap_general_preconfigure_config_all | d(true) or sap_general_preconfigure_3108316_10 | d(false)
  tags:
    - sap_general_preconfigure_configuration_all_steps
    - sap_general_preconfigure_3108316_10
    - sap_general_preconfigure_systemd_tmpfiles
